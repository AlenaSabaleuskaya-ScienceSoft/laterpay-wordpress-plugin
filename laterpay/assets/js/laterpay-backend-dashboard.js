!function(e){e(function(){function t(){var t,i,s={daysBack:8,itemsPerList:10,list:[],bestConvertingList:e("#lp_js_best-converting-list"),leastConvertingList:e("#lp_js_least-converting-list"),bestSellingList:e("#lp_js_best-selling-list"),leastSellingList:e("#lp_js_least-selling-list"),bestGrossingList:e("#lp_js_best-grossing-list"),leastGrossingList:e("#lp_js_least-grossing-list")},l=function(){e("#lp_js_refresh-dashboard").click(function(e){a(),e.preventDefault()})},o=function(t){{var i,l,o=[[14122944e5,0],[14123808e5,0],[14124672e5,0],[14125536e5,0],[141264e7,0],[14127264e5,0],[14128128e5,0],[14128992e5,0]],r=[[14122944e5,0],[14123808e5,0],[14124672e5,0],[14125536e5,0],[141264e7,0],[14127264e5,0],[14128128e5,0],[14128992e5,0]],a=[[1,13],[2,16],[3,14],[4,12],[5,17],[6,15],[7,12]],c=[[1,13],[2,29],[3,43],[4,55],[5,72],[6,87],[7,99]],d=function(e){for(var t=0,i=0,s=e.length;s>t;t++)i+=e[t][1];return i},g=d(o),h=(g/o.length,d(r));h/r.length}8===s.daysBack?(i="%a",l="time"):31===s.daysBack?(i="%m/%d",l="time"):l=null,e.plot(e("#lp_js_graph-conversion"),[{data:[[1,100],[2,100],[3,100],[4,100],[5,100],[6,100],[7,100]],bars:{show:!0,barWidth:.7,fillColor:"#e3e3e3",lineWidth:0,align:"center",horizontal:!1}},{data:a,bars:{show:!0,barWidth:.35,fillColor:"#52CB75",lineWidth:0,align:"center",horizontal:!1}}],{legend:{show:!1},xaxis:{font:{color:"#bbb",lineHeight:18},show:!0,ticks:[[1,"Mon"],[2,"Tue"],[3,"Wed"],[4,"Thu"],[5,"Fri"],[6,"Sat"],[7,"Sun"]]},yaxis:{font:{color:"#bbb"},ticks:5,tickFormatter:function(e){return e+" %"},min:0,max:100,reserveSpace:!0},series:{shadowSize:0},grid:{borderWidth:{top:0,right:0,bottom:1,left:0},borderColor:"#ccc",tickColor:"rgba(247,247,247,0)"}}),e.plot(e("#lp_js_graph-units"),[{data:o,color:"#52CB75",lines:{show:!0,lineWidth:1.5,fill:!1,gaps:!0},points:{show:!0,radius:3,lineWidth:0,fill:!0,fillColor:"#52CB75"}},{data:c,color:"#52CB75",lines:{show:!0,lineWidth:1.5,fill:!1,gaps:!0},points:{show:!0,radius:3,lineWidth:0,fill:!0,fillColor:"#52CB75"}}],{legend:{show:!1},xaxis:{font:{color:"#bbb",lineHeight:18},mode:l,timeformat:i,show:!0},yaxis:{font:{color:"#bbb"},ticks:5,min:0,reserveSpace:!0},series:{shadowSize:0},grid:{borderWidth:{top:0,right:0,bottom:1,left:0},borderColor:"#ccc",tickColor:"rgba(247,247,247,0)"}}),e.plot(e("#lp_js_graph-revenue"),[{data:r,color:"#52CB75",lines:{show:!0,lineWidth:1.5,fill:!1,gaps:!0},points:{show:!0,radius:3,lineWidth:0,fill:!0,fillColor:"#52CB75"}}],{legend:{show:!1},xaxis:{font:{color:"#bbb",lineHeight:18},show:!0,mode:l,timeformat:i},yaxis:{font:{color:"#bbb"},ticks:5,min:0,reserveSpace:!0},series:{shadowSize:0},grid:{borderWidth:{top:0,right:0,bottom:1,left:0},borderColor:"#ccc",tickColor:"rgba(247,247,247,0)"}}),e(".lp_sparkline-bar").peity("bar",{width:34,height:14,gap:1,fill:function(){return"#ccc"}}),t&&(n(s.bestConvertingList,t.best_converting_items),n(s.leastConvertingList,t.least_converting_items),n(s.bestSellingList,t.most_selling_items),n(s.leastSellingList,t.least_selling_items),n(s.bestGrossingList,t.most_revenue_items),n(s.leastGrossingList,t.least_revenue_items))},n=function(e){if(s.list=[],t=0,i=10,i>0)for(;i>t;t++)s.list.push(r("Dummy Item",66,"EUR",[]));else s.list=["<dfn>No datazzz available</dfn>"];e.html(s.list.join())},r=function(e,t,i,s){return'<li><span class="lp_sparkline-bar">'+s+'</span><strong class="lp_value">'+t+"<small>"+i+'</small></strong><i><a href="#" class="lp_js_toggle-item-details">'+e+"</a></i></li>"},a=function(){e.post(lpVars.ajaxUrl,{action:"laterpay_get_dashboard_data",_wpnonce:lpVars.nonces.dashboard,days:s.daysBack,count:s.itemsPerList,refresh:1},function(e){e.success&&o(e.data)},"json")},c=function(){l(),o()};c()}t()})}(jQuery);