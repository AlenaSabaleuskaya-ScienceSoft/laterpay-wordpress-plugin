// time passes
.lp_timePass
    color                   $text /* make sure, the text is not white by default */
    display                 inline-block
    font-family             Arial, sans-serif                                                       !important
    font-size               $fs-1                                                                   !important
    font-weight             400                                                                     !important
    margin-right            $fs-1
    margin-bottom           $fs-1

.lp_timePass,
.lp_timePass__front,
.lp_timePass__back
    height                  154px
    width                   308px

/**
 * Time pass preview, rendered like a real-world ticket
 *
 * 1. Allow child elements (e.g. the purchase button) to be positioned at the bottom of the pass
 * 2. Avoid padding to be added to height and width
 */
.lp_timePass__front,
.lp_timePass__back
    box-sizing              border-box /* 2 */
    position                relative /* 1 */

.lp_timePass__front
    background              url(../img/time-pass-background.png) 0 0/100% no-repeat
    padding                 $fs-1 round(4 * $fs-1) $fs-1 $fs-1

.lp_timePass__back
    background              url(../img/time-pass-background-flip.png) 0 0/100% no-repeat
    display                 none
    padding                 $fs-1 $fs-1 $fs-1 round(4 * $fs-1)

.lp_timePass.lp_is-flipped
    .lp_timePass__front
        display             none

    .lp_timePass__back
        display             block


// frontside -----------------------------------------------------------------------------------------------------------
/**
 * Time pass title, usually something descriptive like "24h News Pass"
 *
 * 1. Restrict title to one line
 * 2. Cut off excess text, if supported by browser, with an ellipsis
 */
.lp_timePass_title
    color                   $text
    font-size               $fs-15
    line-height             1.3
    margin                  0 0 $fs-05
    overflow                hidden /* 2 */
    text-overflow           ellipsis /* 2 */
    white-space             nowrap /* 1 */

/**
 * Time pass description
 *
 * 1. Normalize appearance
 * 2. Restrict description to three lines
 */
.lp_timePass_description
    color                   $text-lighter
    font-size               $fs-1 /* 1 */
    height                  3.9em /* 2 */
    line-height             1.3 /* 1 */
    margin                  0 /* 1 */
    overflow                hidden /* 2 */

/**
 * Wrapper for purchase button and terms link
 *
 * 1. Take up full available width, i.e. 100% - padding of .lp_timePass
 */
.lp_timePass_actions
    bottom                  1em
    position                absolute
    width                   80%; /* 1 - fallback for browsers that don't support calc */
    width                   calc(100% - 4em) /* 1 */

    .lp_purchaseLink.lp_button
        display             inline-block                                                            !important
        float               none                                                                    !important
        vertical-align      middle                                                                  !important

    .lp_timePass_termsLink
        display             inline-block
        padding             $fs-05 $fs-1
        vertical-align      middle


// flipside -----------------------------------------------------------------------------------------------------------
.lp_timePass__conditions
    border                  0 none                                                                  !important
    border-collapse         collapse                                                                !important

    th,
    td
        border              0 none                                                                  !important
        padding             0 0 $fs-025 0                                                           !important
        vertical-align      top                                                                     !important

    th
        color               $text-lighter                                                           !important
        font-weight         normal                                                                  !important
        padding-right       $fs-1                                                                   !important
        text-align          left                                                                    !important

    td
        text-align          left                                                                    !important

.lp_timePass_frontsideLink
    background              $clickable
    border-radius           16px
    color                   $text-inverse
    padding                 $fs-05 $fs-1
    position                absolute
    top                     $fs-1
    left                    -($fs-05)
    -webkit-transition      all 0.25s
            transition      all 0.25s

    &:hover
        background          $clickable-highlight
        color               $text-inverse
        left                -($fs-1)


// voucher codes -------------------------------------------------------------------------------------------------------
.lp_voucherCodeLabel
    background              $background-lightest
    border                  2px solid orange
    color                   orange
    display                 inline-block
    font-family             monospace
    font-size               $fs-15
    margin-right            $fs-05
    padding                 $fs-05


// sidebar widget ------------------------------------------------------------------------------------------------------
/**
 * time pass widget
*/
.lp_timePassWidget
    // unstyled, to simplify integration into theme

    .lp_timePass
        display             block
        margin              $fs-1

        &:last-child
            margin-bottom   0 // remove margin after last time pass, because the widget has a padding

/**
 * voucher code section
 *
 * 1. By default, only a hint text is visible
 * 2. The input is transparent and overlayed over the hint text
 * 3. When the input is focused, it is rendered like an input, the hint text is hidden, and the button is shown
 * 4. Make sure the input is wide enough for the six character voucher code
 * 5. Prevent the input to be wider than the time pass and look weird
 * 6. Give a reasonable height to the wrapper to allow positioning the elements with top, bottom, left, right
 */
.lp_timePassWidget_voucherCodeWrapper
    height                  round(3.75 * $fs-1) /* 6 - TODO: this is a magic number that should not be required */
    margin                  $fs-1
    max-width               308px /* 5 */
    min-width               round(18 * $fs-1) /* 4 */
    position                relative

/**
 * input for voucher code
 */
.lp_timePassWidget_voucherCode
    background              transparent
    border                  2px solid transparent
    bottom                  0
    color                   transparent
    cursor                  pointer
    font-size               $fs-15
    padding                 $fs-075 $fs-1 $fs-075 3.5em
    position                absolute /* 2 */
    top                     0
    width                   100%
    z-index                 $zindex-overlayed_2 /* 2 */

    &:hover ~ .lp_timePassWidget_voucherCodeHint
        color               $clickable-highlight

    &:focus
        -moz-appearance     none
        -webkit-appearance  none
        background          $background-lightest
        border              2px solid $clickable-highlight /* 3 */
        border-radius       5px
        color               $text /* 3 */
        cursor              normal

        /* hide / show siblings, when the voucher input is focused */
        ~ .lp_timePassWidget_voucherCodeHint
            visibility      hidden /* 3 */

        ~ .lp_timePassWidget_voucherCodeInputHint
            display         block /* 3 */
            font-size       $fs-15
            position        absolute
            z-index         $zindex-overlayed_3

        ~ .lp_timePassWidget_redeemVoucherCode
            background      $clickable
            border-radius   4px
            bottom          $fs-05
            color           $text-inverse
            display         inline-block /* 3 */
            position        absolute
            padding         $fs-05 $fs-1
            right           $fs-05
            top             $fs-05
            z-index         $zindex-overlayed_2

            &:hover,
            &:focus,
            &:active
                background  $clickable-highlight

// define line-height to minimize influence of theme styles
.lp_timePassWidget_voucherCode,
.lp_timePassWidget_voucherCodeHint,
.lp_timePassWidget_voucherCodeInputHint,
.lp_timePassWidget_redeemVoucherCode
    line-height             1.5

.lp_timePassWidget_voucherCodeHint
    color                   $clickable
    display                 block  /* 1 */
    margin                  0
    text-decoration         none
    visibility              visible /* 1 */

.lp_timePassWidget_voucherCodeInputHint
    color                   $text-lighter
    display                 none
    margin                  0
    padding                 $fs-075 $fs-1

/**
 * button for redeeming voucher code
 */
.lp_timePassWidget_redeemVoucherCode
    display                 none


/**
 * time pass widget variant 'small'
 * reduced height, width, font-size, margins, and paddings
 */
.lp_timePassWidget-small
    margin-right            $fs-05
    margin-bottom           $fs-05

    .lp_timePass,
    .lp_timePass__front,
    .lp_timePass__back
        height              112px
        width               224px

    .lp_timePass__front
        background          url(../img/time-pass-background-small.png) 0 0/100% no-repeat
        padding             $fs-05 round(6 * $fs-05) $fs-05 $fs-05

    .lp_timePass__back
        background          url(../img/time-pass-background-flip-small.png) 0 0/100% no-repeat
        padding             $fs-05 $fs-05 $fs-05 round(6 * $fs-05)

    .lp_timePass_title
        font-size           $fs-1
        margin-top          $fs-05
        margin-left         $fs-025

    .lp_timePass_description
        font-size           $fs-075
        height              2.9em
        margin-left         $fs-025

    .lp_timePass_actions
        bottom              0.5em
        width               80%; /* 1 - fallback for browsers that don't support calc */
        width               calc(100% - 3em) /* 1 */

        .lp_purchaseLink.lp_button
            font-size       $fs-15                                                                  !important

            &:before
                font-size   36px                                                                    !important

        .lp_timePass_termsLink
            padding         $fs-025 $fs-05

    .lp_timePass__conditions
        th,
        td
            font-size       $fs-075
            padding-bottom  0                                                                       !important

        th
            padding-right   $fs-05                                                                  !important

    .lp_timePass_frontsideLink
        font-size           $fs-075
        padding             $fs-025 $fs-05

